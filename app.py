import streamlit as stimport sqlite3import pandas as pdfrom datetime import datetime, timedelta# --- (Keep your init_db, add_verse, and get_verses functions from the previous message) ---def main():    st.set_page_config(page_title="Group Verse Tracker", page_icon="??")    init_db()    # 1. READ THE GROUP FROM THE URL    # Example: your-app.streamlit.app/?group=Youth+Ministry    query_params = st.query_params    url_group = query_params.get("group")     # 2. DEFINE THE NAVIGATION    st.sidebar.title("Navigation")    page = st.sidebar.radio("Go to:", ["Submit a Verse", "View Weekly Collection"])    # 3. SUBMIT PAGE    if page == "Submit a Verse":        st.title("?? Submit Your Verse")                with st.form("verse_form", clear_on_submit=True):            # If group is in URL, we auto-select it. If not, they use the dropdown.            MY_GROUPS = ["Youth Ministry", "Adult Bible Study", "Sunday School"]                        default_index = 0            if url_group in MY_GROUPS:                default_index = MY_GROUPS.index(url_group)                        selected_group = st.selectbox("Your Group:", MY_GROUPS, index=default_index)            name = st.text_input("Your Name")            verse = st.text_area("Today's Verse")                        if st.form_submit_button("Save Verse"):                if name and verse:                    add_verse(selected_group, name, verse)                    st.success(f"Saved to {selected_group}!")    # 4. VIEW PAGE (The "Locked" View)    elif page == "View Weekly Collection":        # Check if they arrived via a specific group link        if url_group:            st.title(f"??? {url_group} Collection")            data = get_verses(url_group)        else:            # If no group in URL, show a general message or a selector            st.title("??? Weekly Summary")            url_group = st.selectbox("Select Group to View:", ["Youth Ministry", "Adult Bible Study", "Sunday School"])            data = get_verses(url_group)        if data.empty:            st.info(f"No verses for {url_group} yet.")        else:            names = data['user_name'].unique()            for name in names:                with st.expander(f"?? {name}'s Verses", expanded=True):                    user_data = data[data['user_name'] == name]                    for idx, row in user_data.iterrows():                        dt = datetime.strptime(row['created_at'], '%Y-%m-%d %H:%M:%S')                        st.caption(dt.strftime('%A, %b %d'))                        st.info(row['verse_text'])if __name__ == "__main__":    main()